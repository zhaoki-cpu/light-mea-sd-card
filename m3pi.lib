http://mbed.org/users/chris/code/m3pi/#9b128cebb3c2
